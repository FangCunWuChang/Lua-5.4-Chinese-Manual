### 2.5 - 垃圾回收  
Lua拥有自动内存管理机制。这意味着你不需要为建立对象时的内存分配和当对象不再使用时的空间释放而操心。Lua通过使用垃圾回收器回收所有生命周期结束的对象的内存空间来实现自动内存管理。所有Lua使用的内存都会被自动管理：字符串，表，userdata，函数，线程，内部结构体等等。  

在程序的正常执行过程中，当一个对象被回收器判定为不会被再次使用时，这个对象的生命周期结束。（“程序的正常执行过程”不包括可以使生命周期结束的对象复活的析构器（详见2.5.3节），也不包括使用调试库的操作。）需要注意的是，回收器认定的对象生命结束的时间可能于开发者所期望的不同。垃圾回收机制只能保证当一个对象在正常执行过程中还有可能被使用时这个对象不会被回收，以及它只会回收Lua无法访问的对象。（无法访问指的是对象不会被任何变量或其它的存活对象使用到。）因为Lua与C之间存在屏障，所以回收器不会回收通过注册表（详见4.3节）可访问的对象，包括全局环境（详见2.2节）。  

Lua中的垃圾回收器（GC）可以在两种模式下工作：增量回收和分代回收。  

对于大多数情况来说，使用默认参数的默认GC模式就是足够的了。然而，内存分配和回收浪费大量程序运行时间的情况可以通过一些设置来改善。记住GC的行为是不可移植的，无论是跨平台还是跨Lua版本；因此，最佳的GC设置也是不可移植的。  

你可以通过在C中调用*lua_gc*或者在Lua中调用*collectgarbage*来更改GC模式和参数。你也可以通过这些函数来直接控制GC（比如停止和重启GC）。  